@page "/assets"
@rendermode InteractiveServer
@using AssetHubBlazor.Models
@using AssetHubBlazor.Services
@inject AssetService AssetService

<div class="assets-page-container">
    <div class="assets-header mb-4">
        <h2 class="page-title">Assets</h2>
        <p class="page-desc">Browse and manage all assets in the system.</p>
    </div>
    @if (AllAssets == null)
    {
        <div class="card p-4 mb-4"><em>Loading...</em></div>
    }
    else
    {
        <div class="card p-4">
            <table class="table">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Status</th>
                        <th>Model Number</th>
                        <th>Department</th>
                        <th>Location</th>
                        <th>Purchase Date</th>
                        <th>Purchase Price</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var asset in AllAssets)
                    {
                        <tr>
                            <td>@asset.Name</td>
                            <td>@asset.Type</td>
                            <td>@asset.Status</td>
                            <td>@asset.ModelNumber</td>
                            <td>@asset.Department</td>
                            <td>@asset.Location</td>
                            <td>@asset.PurchaseDate.ToString("MMM dd, yyyy")</td>
                            <td>@asset.PurchasePrice.ToString("C")</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    }
</div>

@code {
    List<Asset>? AllAssets;

    protected override async Task OnInitializedAsync()
    {
        AllAssets = await AssetService.GetAllAsync();
    }
}
